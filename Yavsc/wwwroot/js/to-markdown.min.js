!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.toMarkdown=e()}}(function(){return function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e){return-1!==b.indexOf(e.nodeName.toLowerCase())}function o(e){return-1!==y.indexOf(e.nodeName.toLowerCase())}function i(e){var t=(new v).parseFromString(e,"text/html");return N(t.documentElement,r),t}function a(e){for(var t,n,r,o=[e],i=[];o.length>0;)for(t=o.shift(),i.push(t),n=t.childNodes,r=0;r<n.length;r++)1===n[r].nodeType&&o.push(n[r]);return i.shift(),i}function c(e){for(var t="",n=0;n<e.childNodes.length;n++)if(1===e.childNodes[n].nodeType)t+=e.childNodes[n]._replacement;else{if(3!==e.childNodes[n].nodeType)continue;t+=e.childNodes[n].data}return t}function l(e,t){return e.cloneNode(!1).outerHTML.replace("><",">"+t+"<")}function u(e,t){if("string"==typeof t)return t===e.nodeName.toLowerCase();if(Array.isArray(t))return-1!==t.indexOf(e.nodeName.toLowerCase());if("function"==typeof t)return t.call(p,e);throw new TypeError("`filter` needs to be a string, array, or function")}function f(e,t){var n,o,i;return"left"===e?(n=t.previousSibling,o=/ $/):(n=t.nextSibling,o=/^ /),n&&(3===n.nodeType?i=o.test(n.nodeValue):1!==n.nodeType||r(n)||(i=o.test(n.textContent))),i}function d(e,t){var n="",o="";if(!r(e)){var i=/^[ \r\n\t]/.test(t),a=/[ \r\n\t]$/.test(t);i&&!f("left",e)&&(n=" "),a&&!f("right",e)&&(o=" ")}return{leading:n,trailing:o}}function s(e){var t,n=c(e);if(!o(e)&&!/A|TH|TD/.test(e.nodeName)&&/^\s*$/i.test(n))return void(e._replacement="");for(var r=0;r<m.length;r++){var i=m[r];if(u(e,i.filter)){if("function"!=typeof i.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var a=d(e,n);(a.leading||a.trailing)&&(n=n.trim()),t=a.leading+i.replacement.call(p,n,e)+a.trailing;break}}e._replacement=t}var p,m,h=e("./lib/md-converters"),g=e("./lib/gfm-converters"),v=e("./lib/html-parser"),N=e("collapse-whitespace"),b=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],y=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];p=function(e,t){if(t=t||{},"string"!=typeof e)throw new TypeError(e+" is not a string");if(""===e)return"";e=e.replace(/(\d+)\. /g,"$1\\. ");var n,r=i(e).body,o=a(r);m=h.slice(0),t.gfm&&(m=g.concat(m)),t.converters&&(m=t.converters.concat(m));for(var l=o.length-1;l>=0;l--)s(o[l]);return n=c(r),n.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},p.isBlock=r,p.isVoid=o,p.outer=l,t.exports=p},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(e,t,n){"use strict";function r(e,t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t),r=" ";return 0===n&&(r="| "),r+e+" |"}var o=/highlight highlight-(\S+)/;t.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,t){return r(e,t)}},{filter:"tr",replacement:function(e,t){var n="",o={left:":--",right:"--:",center:":-:"};if("THEAD"===t.parentNode.nodeName)for(var i=0;i<t.childNodes.length;i++){var a=t.childNodes[i].attributes.align,c="---";a&&(c=o[a.value]||c),n+=r(c,t.childNodes[i])}return"\n"+e+(n?"\n"+n:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\n```\n"+t.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return"PRE"===e.nodeName&&"DIV"===e.parentNode.nodeName&&o.test(e.parentNode.className)},replacement:function(e,t){var n=t.parentNode.className.match(o)[1];return"\n\n```"+n+"\n"+t.textContent+"\n```\n\n"}},{filter:function(e){return"DIV"===e.nodeName&&o.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},{}],3:[function(e,t,n){function r(){var e=a.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function o(){var t=function(){};if("undefined"==typeof document){var n=e("jsdom");t.prototype.parseFromString=function(e){return n.jsdom(e,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else t.prototype.parseFromString=i()?function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t};return t}function i(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}var a="undefined"!=typeof window?window:this;t.exports=r()?a.DOMParser:o()},{jsdom:6}],4:[function(e,t,n){"use strict";t.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t){for(var n=t.nodeName.charAt(1),r="",o=0;n>o;o++)r+="#";return"\n\n"+r+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:["u"],replacement:function(e){return"_"+e+"_"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:"div",replacement:function(e){return e+"\n\n"}},{filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.title?' "'+t.title+'"':"";return"["+e+"]("+t.getAttribute("href")+n+")"}},{filter:"video",replacement:function(e,t){for(var n,r=t.getAttribute("alt")||"",o=0;o<t.childNodes.length;o++)if("source"===t.childNodes[o].localName){n=t.childNodes[o].getAttribute("src");break}var i=t.title||"",a=i?' "'+i+'"':"";return n?"![video:"+r+"]("+n+a+")":""}},{filter:"audio",replacement:function(e,t){var n=t.getAttribute("alt")||"",r=t.getAttribute("src")||"";if(!r)for(var o=0;o<t.childNodes.length;o++)if("source"===t.childNodes[o].localName){r=t.childNodes[o].getAttribute("src");break}var i=t.title||"",a=i?' "'+i+'"':"";return r?"![audio:"+n+"]("+r+a+")":""}},{filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",o=t.title||"",i=o?' "'+o+'"':"";return r?"!["+n+"]("+r+i+")":""}},{filter:function(e){return"PRE"===e.nodeName&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){return e=e.trim(),e=e.replace(/\n{3,}/g,"\n\n"),e=e.replace(/^/gm,"> "),"\n\n"+e+"\n\n"}},{filter:"li",replacement:function(e,t){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n="*   ",r=t.parentNode,o=Array.prototype.indexOf.call(r.children,t)+1;return n=/ol/i.test(r.nodeName)?o+".  ":"*   ",n+e}},{filter:["ul","ol"],replacement:function(e,t){for(var n=[],r=0;r<t.childNodes.length;r++)n.push(t.childNodes[r]._replacement);return/li/i.test(t.parentNode.nodeName)?"\n"+n.join("\n"):"\n\n"+n.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,t){return"\n\n"+this.outer(t,e)+"\n\n"}},{filter:function(){return!0},replacement:function(e,t){return this.outer(t,e)}}]},{}],5:[function(e,t,n){t.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(e,t,n){},{}],7:[function(e,t,n){"use strict";function r(e){return!(!e||!u[e.nodeName])}function o(e){return!(!e||!l[e.nodeName])}function i(e,t){if(e.firstChild&&"PRE"!==e.nodeName){"function"!=typeof t&&(t=r);for(var n=null,i=!1,l=null,u=c(l,e);u!==e;){if(3===u.nodeType){var f=u.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||i||" "!==f[0]||(f=f.substr(1)),!f){u=a(u);continue}u.data=f,n=u}else{if(1!==u.nodeType){u=a(u);continue}t(u)||"BR"===u.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,i=!1):o(u)&&(n=null,i=!0)}var d=c(l,u);l=u,u=d}n&&(n.data=n.data.replace(/ $/,""),n.data||a(n))}}function a(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function c(e,t){return e&&e.parentNode===t||"PRE"===t.nodeName?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var l=e("void-elements");Object.keys(l).forEach(function(e){l[e.toUpperCase()]=1});var u={};e("block-elements").forEach(function(e){u[e.toUpperCase()]=1}),t.exports=i},{"block-elements":5,"void-elements":8}],8:[function(e,t,n){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)});